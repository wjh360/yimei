(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-add-expense-add-expense"],{"0b86":function(e,t,a){var i=a("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uView UI 主题变量\r\n */\r\n/**\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.page-container[data-v-462efcc0]{min-height:100vh;background:linear-gradient(135deg,#f8f9fa,#e9ecef);padding:20px}.card[data-v-462efcc0]{background:hsla(0,0%,100%,.7);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:16px;border:1px solid hsla(0,0%,100%,.3);box-shadow:0 4px 20px rgba(0,0,0,.1);padding:20px;margin-bottom:20px}.gradient-button[data-v-462efcc0]{background:linear-gradient(135deg,#4158d0,#c850c0);color:#fff;border:none;padding:12px 24px;border-radius:25px;font-weight:700;transition:all .3s ease}.gradient-button[data-v-462efcc0]:active{-webkit-transform:translateY(2px);transform:translateY(2px)}.input-field[data-v-462efcc0]{background-color:rgba(241,245,249,.6);border-radius:12px;padding:12px 16px;transition:all .3s ease}.input-field[data-v-462efcc0]:hover, .input-field[data-v-462efcc0]:focus{background-color:rgba(241,245,249,.9)}@-webkit-keyframes fadeInUp-data-v-462efcc0{from{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.animate-fade-in-up[data-v-462efcc0]{-webkit-animation:fadeInUp-data-v-462efcc0 .5s ease-out;animation:fadeInUp-data-v-462efcc0 .5s ease-out}uni-scroll-view[data-v-462efcc0],\r\n.report-list[data-v-462efcc0]{width:auto!important}.u-avatar[data-v-462efcc0]{border:none!important}.add-expense-container[data-v-462efcc0]{height:100vh;background:linear-gradient(135deg,#f8f9fa,#e9ecef);display:flex;flex-direction:column;position:relative;width:100%;overflow-x:hidden}.page-header[data-v-462efcc0]{padding:20px 20px 100px;background:linear-gradient(135deg,#4158d0,#c850c0);color:#fff;border-bottom-left-radius:30px;border-bottom-right-radius:30px;box-shadow:0 4px 15px rgba(0,0,0,.1)}.page-title[data-v-462efcc0]{font-size:24px;font-weight:700;text-shadow:1px 1px 3px rgba(0,0,0,.2)}.form-scroll[data-v-462efcc0]{flex:1;padding:20px 0;box-sizing:border-box;width:100%;position:relative;top:-100px}.form-card[data-v-462efcc0]{background:hsla(0,0%,100%,.7);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:16px;border:1px solid hsla(0,0%,100%,.3);box-shadow:0 4px 20px rgba(0,0,0,.1);padding:20px;box-sizing:border-box;width:100%;-webkit-animation:fadeInUp-data-v-462efcc0 .5s ease-out;animation:fadeInUp-data-v-462efcc0 .5s ease-out;margin-bottom:30px;border-radius:20px}.date-picker[data-v-462efcc0]{display:flex;align-items:center;justify-content:space-between;padding:8px 16px;border-radius:4px;background-color:none;border:1px solid #dadbde}.date-picker uni-text[data-v-462efcc0]{font-size:15px;color:#333}.date-picker__right[data-v-462efcc0]{display:flex;align-items:center;gap:8px}.fixed-bottom[data-v-462efcc0]{position:fixed;left:0;right:0;bottom:0;background-color:hsla(0,0%,100%,.9);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:16px 20px;padding-bottom:calc(16px + constant(safe-area-inset-bottom));padding-bottom:calc(16px + env(safe-area-inset-bottom));box-shadow:0 -4px 15px rgba(0,0,0,.05);z-index:999;width:100%;box-sizing:border-box;-webkit-animation:fadeInUp-data-v-462efcc0 .5s ease-out;animation:fadeInUp-data-v-462efcc0 .5s ease-out}.bottom-placeholder[data-v-462efcc0]{height:calc(76px + constant(safe-area-inset-bottom));height:calc(76px + env(safe-area-inset-bottom));width:100%}.submit-btn[data-v-462efcc0]{width:100%;height:50px;display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:700;background:linear-gradient(135deg,#4158d0,#c850c0);border-radius:25px;box-shadow:0 4px 8px rgba(72,84,208,.25);border:none}.submit-btn[data-v-462efcc0]:active{-webkit-transform:translateY(2px);transform:translateY(2px);box-shadow:0 2px 4px rgba(72,84,208,.2)}[data-v-462efcc0] .u-form-item{padding:8px 0;margin-bottom:0;width:100%}[data-v-462efcc0] .u-form-item:not(:last-child){border-bottom:1px solid hsla(0,0%,93.3%,.6)}[data-v-462efcc0] .u-form-item .u-form-item__body__left__content{font-weight:600;color:#2c3e50;font-size:16px}[data-v-462efcc0] .u-form-item__body{padding:0;width:100%}[data-v-462efcc0] .u-form-item__body__left{margin-bottom:0;padding-right:12px}[data-v-462efcc0] .u-form-item__body__right{flex:1;width:0}[data-v-462efcc0] .u-input{flex:1}[data-v-462efcc0] .u-input .u-input__input{background-color:rgba(241,245,249,.8);border-radius:12px;padding:12px 16px;border:1px solid hsla(0,0%,93.3%,.8)}[data-v-462efcc0] .u-input__input{width:100%;color:#2c3e50;font-size:16px}[data-v-462efcc0] .u-input__input::-webkit-input-placeholder{color:#94a3b8}[data-v-462efcc0] .u-input__input::placeholder{color:#94a3b8}[data-v-462efcc0] .u-textarea{width:100%}[data-v-462efcc0] .u-textarea uni-textarea{width:100%;box-sizing:border-box;background-color:rgba(241,245,249,.8);border-radius:12px;padding:12px 16px;border:1px solid hsla(0,0%,93.3%,.8);min-height:100px}[data-v-462efcc0] .u-upload__wrap{display:flex;flex-wrap:wrap;gap:10px}[data-v-462efcc0] .u-upload__wrap__preview{border-radius:12px;overflow:hidden}@keyframes fadeInUp-data-v-462efcc0{from{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}',""]),e.exports=t},"0f1f":function(e,t,a){"use strict";(function(e){a("6a54");var i=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("2634")),r=i(a("2fdc")),o=i(a("9b1b"));a("64aa"),a("c223"),a("795c"),a("bf0f"),a("2797"),a("5c47"),a("0506"),a("aa9c"),a("bd06"),a("dd2b"),a("fd3c"),a("c9b5"),a("ab80"),a("7a76"),a("18f7"),a("de6c");var u={data:function(){return{form:{date:(new Date).getTime(),type:"",amount:"",description:""},fileList:[],uploadStatus:"ready",userInfo:null,customBtn:{width:"140rpx",height:"140rpx",background:"#f5f7fa"},submitting:!1,showDatePicker:!1}},onLoad:function(){this.userInfo=uni.getStorageSync("userInfo"),this.userInfo||uni.redirectTo({url:"/pages/login/login"})},methods:{showCalendar:function(){this.showDatePicker=!0},closeDatePicker:function(){this.showDatePicker=!1},dateConfirm:function(e){this.form.date=e,this.showDatePicker=!1},formatDate:function(e){if(!e)return"";var t=new Date(Number(e));return"".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0"))},afterRead:function(e){var t=this,a=Array.isArray(e.file)?e.file:[e.file];a.forEach((function(e){if(e.size>10485760)uni.showToast({title:"文件大小不能超过10MB",icon:"none"});else{var a=(0,o.default)((0,o.default)({},e),{},{url:e.path||e.url||e.tempFilePath,status:"uploading",message:"准备上传"});("image"===e.type||/\.(jpg|jpeg|png|gif)$/i.test(e.name))&&(a.isImage=!0),t.fileList.push(a),setTimeout((function(){var e=t.fileList.findIndex((function(e){return e===a}));-1!==e&&(t.fileList[e].status="success",t.fileList[e].message="已就绪")}),500)}}))},deleteFile:function(e){var t=this,a=e.index;uni.showModal({title:"确认删除",content:"确定要删除这个文件吗？",success:function(e){e.confirm&&t.fileList.splice(a,1)}})},uploadFiles:function(){var t=this;return(0,r.default)((0,n.default)().mark((function a(){var i,o;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(0!==t.fileList.length){a.next=2;break}return a.abrupt("return",[]);case 2:return t.uploadStatus="uploading",t.fileList.forEach((function(e,a){t.$set(t.fileList[a],"status","uploading"),t.$set(t.fileList[a],"message","上传中...")})),i=t.fileList.map(function(){var a=(0,r.default)((0,n.default)().mark((function a(i,r){var o,u,s,l,d;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,o=i.name?i.name.split(".").pop():"png",u="".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,5),".").concat(o),s="expenses/".concat(t.userInfo._id,"/").concat(u),l=i.url||i.path||i.tempFilePath,l){a.next=7;break}throw new Error("无法获取文件路径");case 7:return a.next=9,e.uploadFile({filePath:l,cloudPath:s});case 9:return d=a.sent,t.$set(t.fileList[r],"status","success"),t.$set(t.fileList[r],"message","上传成功"),a.abrupt("return",d.fileID);case 15:throw a.prev=15,a.t0=a["catch"](0),console.error("File upload failed:",a.t0),t.$set(t.fileList[r],"status","fail"),t.$set(t.fileList[r],"message","上传失败"),a.t0;case 21:case"end":return a.stop()}}),a,null,[[0,15]])})));return function(e,t){return a.apply(this,arguments)}}()),a.prev=5,a.next=8,Promise.all(i);case 8:return o=a.sent,t.uploadStatus="success",a.abrupt("return",o);case 13:throw a.prev=13,a.t0=a["catch"](5),console.error("Files upload failed:",a.t0),t.uploadStatus="fail",uni.showToast({title:"文件上传失败，请重试",icon:"none"}),a.t0;case 19:case"end":return a.stop()}}),a,null,[[5,13]])})))()},handleSubmit:function(){var t=this;return(0,r.default)((0,n.default)().mark((function a(){var i,r;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.submitting){a.next=2;break}return a.abrupt("return");case 2:if(t.form.date){a.next=5;break}return uni.showToast({title:"请选择日期",icon:"none"}),a.abrupt("return");case 5:if(t.form.amount){a.next=8;break}return uni.showToast({title:"请输入金额",icon:"none"}),a.abrupt("return");case 8:if(t.form.type){a.next=11;break}return uni.showToast({title:"请选择类别",icon:"none"}),a.abrupt("return");case 11:return t.submitting=!0,uni.showLoading({title:"正在提交..."}),a.prev=13,a.next=16,t.uploadFiles();case 16:return i=a.sent,a.next=19,e.callFunction({name:"addExpense",data:(0,o.default)((0,o.default)({userId:t.userInfo._id},t.form),{},{fileIDs:i})});case 19:r=a.sent,uni.hideLoading(),0===r.result.code?(uni.showToast({title:"提交成功",icon:"success"}),setTimeout((function(){uni.navigateBack()}),1500)):uni.showToast({title:r.result.message||"提交失败",icon:"none"}),a.next=30;break;case 24:a.prev=24,a.t0=a["catch"](13),uni.hideLoading(),console.error("Submit failed:",a.t0),t.$handleCloudError(a.t0),uni.showToast({title:"提交失败，请重试",icon:"none"});case 30:return a.prev=30,t.submitting=!1,a.finish(30);case 33:case"end":return a.stop()}}),a,null,[[13,24,30,33]])})))()}}};t.default=u}).call(this,a("861b")["default"])},4792:function(e,t,a){"use strict";a.r(t);var i=a("b69e"),n=a("f4f1");for(var r in n)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(r);a("e1c5");var o=a("828b"),u=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"462efcc0",null,!1,i["a"],void 0);t["default"]=u.exports},"4edc":function(e,t,a){var i=a("0b86");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("967d").default;n("cd69292e",i,!0,{sourceMap:!1,shadowMode:!1})},"6d70":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return i}));var i={uIcon:a("3c99").default,uLoadingIcon:a("7c31").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"u-upload",style:[e.$u.addStyle(e.customStyle)]},[a("v-uni-view",{staticClass:"u-upload__wrap"},[e.previewImage?e._l(e.lists,(function(t,i){return a("v-uni-view",{key:i,staticClass:"u-upload__wrap__preview"},[t.isImage||t.type&&"image"===t.type?a("v-uni-image",{staticClass:"u-upload__wrap__preview__image",style:[{width:e.$u.addUnit(e.width),height:e.$u.addUnit(e.height)}],attrs:{src:t.thumb||t.url,mode:e.imageMode},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.onPreviewImage(t)}}}):a("v-uni-view",{staticClass:"u-upload__wrap__preview__other"},[a("u-icon",{attrs:{color:"#80CBF9",size:"26",name:t.isVideo||t.type&&"video"===t.type?"movie":"folder"}}),a("v-uni-text",{staticClass:"u-upload__wrap__preview__other__text"},[e._v(e._s(t.isVideo||t.type&&"video"===t.type?"视频":"文件"))])],1),"uploading"===t.status||"failed"===t.status?a("v-uni-view",{staticClass:"u-upload__status"},[a("v-uni-view",{staticClass:"u-upload__status__icon"},["failed"===t.status?a("u-icon",{attrs:{name:"close-circle",color:"#ffffff",size:"25"}}):a("u-loading-icon",{attrs:{size:"22",mode:"circle",color:"#ffffff"}})],1),t.message?a("v-uni-text",{staticClass:"u-upload__status__message"},[e._v(e._s(t.message))]):e._e()],1):e._e(),"uploading"!==t.status&&(e.deletable||t.deletable)?a("v-uni-view",{staticClass:"u-upload__deletable",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.deleteItem(i)}}},[a("v-uni-view",{staticClass:"u-upload__deletable__icon"},[a("u-icon",{attrs:{name:"close",color:"#ffffff",size:"10"}})],1)],1):e._e(),"success"===t.status?a("v-uni-view",{staticClass:"u-upload__success"},[a("v-uni-view",{staticClass:"u-upload__success__icon"},[a("u-icon",{attrs:{name:"checkmark",color:"#ffffff",size:"12"}})],1)],1):e._e()],1)})):e._e(),e.isInCount?[e.$slots.default||e.$slots.$default?a("v-uni-view",{staticClass:"u-upload__default-slot",class:[0===e.lists.length?"u-upload__default-slot--empty-list":""],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseFile.apply(void 0,arguments)}}},[e._t("default")],2):a("v-uni-view",{staticClass:"u-upload__button",class:[e.disabled&&"u-upload__button--disabled"],style:[{width:e.$u.addUnit(e.width),height:e.$u.addUnit(e.height)}],attrs:{"hover-class":e.disabled?"":"u-upload__button--hover","hover-stay-time":"150"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseFile.apply(void 0,arguments)}}},[a("u-icon",{attrs:{name:e.uploadIcon,size:"26",color:e.uploadIconColor}}),e.uploadText?a("v-uni-text",{staticClass:"u-upload__button__text"},[e._v(e._s(e.uploadText))]):e._e()],1)]:e._e()],2)],1)},r=[]},adbb:function(e,t,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.chooseFile=function(e){var t=e.accept,a=e.multiple,i=e.capture,u=e.compressed,s=e.maxDuration,l=e.sizeType,d=e.camera,c=e.maxCount;return new Promise((function(e,p){switch(t){case"image":uni.chooseImage({count:a?Math.min(c,9):1,sourceType:i,sizeType:l,success:function(t){return e(function(e){return e.tempFiles.map((function(e){return(0,n.default)((0,n.default)({},r(e,["path"])),{},{type:"image",url:e.path,thumb:e.path,size:e.size,name:e.name})}))}(t))},fail:p});break;case"video":uni.chooseVideo({sourceType:i,compressed:u,maxDuration:s,camera:d,success:function(t){return e(function(e){return[(0,n.default)((0,n.default)({},r(e,["tempFilePath","thumbTempFilePath","errMsg"])),{},{type:"video",url:e.tempFilePath,thumb:e.thumbTempFilePath,size:e.size,name:e.name})]}(t))},fail:p});break;case"file":uni.chooseFile({count:a?c:1,type:t,success:function(t){return e(o(t))},fail:p});break;default:uni.chooseFile({count:a?c:1,type:"all",success:function(t){return e(o(t))},fail:p})}}))};var n=i(a("9b1b"));function r(e,t){return["[object Object]","[object File]"].includes(Object.prototype.toString.call(e))?Object.keys(e).reduce((function(a,i){return t.includes(i)||(a[i]=e[i]),a}),{}):{}}function o(e){return e.tempFiles.map((function(e){return(0,n.default)((0,n.default)({},r(e,["path"])),{},{url:e.path,size:e.size,name:e.name,type:e.type})}))}a("4626"),a("bf0f"),a("473f"),a("dc8a"),a("5ac7"),a("fd3c")},b69e:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return i}));var i={uForm:a("5222").default,uFormItem:a("4e56").default,uIcon:a("3c99").default,uInput:a("cc38").default,uUpload:a("e999").default,uButton:a("175e").default,uDatetimePicker:a("9b2b").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"add-expense-container"},[a("v-uni-view",{staticClass:"page-header"},[a("v-uni-text",{staticClass:"page-title"},[e._v("新增报销")])],1),a("v-uni-scroll-view",{staticClass:"form-scroll",attrs:{"scroll-y":!0}},[a("v-uni-view",{staticClass:"form-card"},[a("u-form",{attrs:{model:e.form,labelPosition:"left",labelWidth:"40",labelAlign:"left"}},[a("u-form-item",{attrs:{label:"日期",prop:"date",required:!0}},[a("v-uni-view",{staticClass:"date-picker",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showCalendar.apply(void 0,arguments)}}},[a("v-uni-text",[e._v(e._s(e.formatDate(e.form.date)))]),a("v-uni-view",{staticClass:"date-picker__right"},[a("u-icon",{attrs:{name:"calendar",size:"22",color:"#2979ff"}})],1)],1)],1),a("u-form-item",{attrs:{label:"报销类型",prop:"type",required:!0}},[a("u-input",{attrs:{placeholder:"请输入报销类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1),a("u-form-item",{attrs:{label:"金额",prop:"amount",required:!0}},[a("u-input",{attrs:{type:"number",placeholder:"请输入报销金额"},model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}})],1),a("u-form-item",{attrs:{label:"描述",prop:"description",required:!0}},[a("u-input",{attrs:{type:"textarea",placeholder:"请输入报销描述"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),a("u-form-item",{attrs:{label:"附件"}},[a("u-upload",{attrs:{"file-list":e.fileList,multiple:!0,"max-count":5,"custom-btn":e.customBtn},on:{afterRead:function(t){arguments[0]=t=e.$handleEvent(t),e.afterRead.apply(void 0,arguments)},delete:function(t){arguments[0]=t=e.$handleEvent(t),e.deleteFile.apply(void 0,arguments)}}})],1)],1)],1),a("v-uni-view",{staticClass:"bottom-placeholder"})],1),a("v-uni-view",{staticClass:"fixed-bottom"},[a("u-button",{staticClass:"submit-btn",attrs:{type:"primary",loading:e.submitting},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleSubmit.apply(void 0,arguments)}}},[a("u-icon",{staticStyle:{"margin-right":"5px"},attrs:{name:"checkmark",size:"20"}}),e._v("提交报销")],1)],1),a("u-datetime-picker",{attrs:{show:e.showDatePicker,mode:"date",closeOnClickOverlay:!0,maxDate:(new Date).getTime(),title:"选择日期"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.dateConfirm.apply(void 0,arguments)},close:function(t){arguments[0]=t=e.$handleEvent(t),e.closeDatePicker.apply(void 0,arguments)}},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1)},r=[]},c425:function(e,t,a){"use strict";a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={watch:{accept:{immediate:!0,handler:function(e){"all"!==e&&"media"!==e||uni.$u.error("只有微信小程序才支持把accept配置为all、media之一")}}}};t.default=i},d79e:function(e,t,a){"use strict";var i=a("f61b"),n=a.n(i);n.a},e1c5:function(e,t,a){"use strict";var i=a("4edc"),n=a.n(i);n.a},e837:function(e,t,a){var i=a("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uView UI 主题变量\r\n */\r\n/**\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-view[data-v-513d9588], uni-scroll-view[data-v-513d9588], uni-swiper-item[data-v-513d9588]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-upload[data-v-513d9588]{display:flex;flex-direction:column;flex:1}.u-upload__wrap[data-v-513d9588]{display:flex;flex-direction:row;flex-wrap:wrap;flex:1}.u-upload__wrap__preview[data-v-513d9588]{border-radius:2px;margin:0 8px 8px 0;position:relative;overflow:hidden;display:flex;flex-direction:row}.u-upload__wrap__preview__image[data-v-513d9588]{width:80px;height:80px}.u-upload__wrap__preview__other[data-v-513d9588]{width:80px;height:80px;background-color:#f2f2f2;flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center}.u-upload__wrap__preview__other__text[data-v-513d9588]{font-size:11px;color:#909399;margin-top:2px}.u-upload__deletable[data-v-513d9588]{position:absolute;top:0;right:0;background-color:#373737;height:14px;width:14px;display:flex;flex-direction:row;border-bottom-left-radius:100px;align-items:center;justify-content:center;z-index:3}.u-upload__deletable__icon[data-v-513d9588]{position:absolute;-webkit-transform:scale(.7);transform:scale(.7);top:0;right:0;top:1px;right:0}.u-upload__success[data-v-513d9588]{position:absolute;bottom:0;right:0;display:flex;flex-direction:row;border-style:solid;border-top-color:transparent;border-left-color:transparent;border-bottom-color:#19be6b;border-right-color:#19be6b;border-width:9px;align-items:center;justify-content:center}.u-upload__success__icon[data-v-513d9588]{position:absolute;-webkit-transform:scale(.7);transform:scale(.7);bottom:-10px;right:-10px}.u-upload__status[data-v-513d9588]{position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.5);display:flex;flex-direction:column;align-items:center;justify-content:center}.u-upload__status__icon[data-v-513d9588]{position:relative;z-index:1}.u-upload__status__message[data-v-513d9588]{font-size:12px;color:#fff;margin-top:5px}.u-upload__default-slot--empty-list[data-v-513d9588]{flex:1}.u-upload__button[data-v-513d9588]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:80px;height:80px;background-color:#f4f5f7;border-radius:2px;margin:0 8px 8px 0;box-sizing:border-box}.u-upload__button__text[data-v-513d9588]{font-size:11px;color:#909399;margin-top:2px}.u-upload__button--hover[data-v-513d9588]{background-color:#e6e7e9}.u-upload__button--disabled[data-v-513d9588]{opacity:.5}',""]),e.exports=t},e999:function(e,t,a){"use strict";a.r(t);var i=a("6d70"),n=a("f734");for(var r in n)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(r);a("d79e");var o=a("828b"),u=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"513d9588",null,!1,i["a"],void 0);t["default"]=u.exports},ee27:function(e,t,a){"use strict";a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("64aa");var i={props:{accept:{type:String,default:uni.$u.props.upload.accept},capture:{type:[String,Array],default:uni.$u.props.upload.capture},compressed:{type:Boolean,default:uni.$u.props.upload.compressed},camera:{type:String,default:uni.$u.props.upload.camera},maxDuration:{type:Number,default:uni.$u.props.upload.maxDuration},uploadIcon:{type:String,default:uni.$u.props.upload.uploadIcon},uploadIconColor:{type:String,default:uni.$u.props.upload.uploadIconColor},useBeforeRead:{type:Boolean,default:uni.$u.props.upload.useBeforeRead},afterRead:{type:Function,default:null},beforeRead:{type:Function,default:null},previewFullImage:{type:Boolean,default:uni.$u.props.upload.previewFullImage},maxCount:{type:[String,Number],default:uni.$u.props.upload.maxCount},disabled:{type:Boolean,default:uni.$u.props.upload.disabled},imageMode:{type:String,default:uni.$u.props.upload.imageMode},name:{type:String,default:uni.$u.props.upload.name},sizeType:{type:Array,default:uni.$u.props.upload.sizeType},multiple:{type:Boolean,default:uni.$u.props.upload.multiple},deletable:{type:Boolean,default:uni.$u.props.upload.deletable},maxSize:{type:[String,Number],default:uni.$u.props.upload.maxSize},fileList:{type:Array,default:uni.$u.props.upload.fileList},uploadText:{type:String,default:uni.$u.props.upload.uploadText},width:{type:[String,Number],default:uni.$u.props.upload.width},height:{type:[String,Number],default:uni.$u.props.upload.height},previewImage:{type:Boolean,default:uni.$u.props.upload.previewImage}}};t.default=i},f4f1:function(e,t,a){"use strict";a.r(t);var i=a("0f1f"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(r);t["default"]=n.a},f61b:function(e,t,a){var i=a("e837");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("967d").default;n("8d140cfe",i,!0,{sourceMap:!1,shadowMode:!1})},f734:function(e,t,a){"use strict";a.r(t);var i=a("fe66"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(r);t["default"]=n.a},fe66:function(e,t,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("fd3c"),a("5c47"),a("0506"),a("bf0f"),a("8f71");var n=a("adbb"),r=i(a("c425")),o=i(a("ee27")),u={name:"u-upload",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default,o.default],data:function(){return{lists:[],isInCount:!0}},watch:{fileList:{immediate:!0,handler:function(){this.formatFileList()}}},methods:{formatFileList:function(){var e=this,t=this.fileList,a=void 0===t?[]:t,i=this.maxCount,n=a.map((function(t){return Object.assign(Object.assign({},t),{isImage:"image"===e.accept||uni.$u.test.image(t.url||t.thumb),isVideo:"video"===e.accept||uni.$u.test.video(t.url||t.thumb),deletable:"boolean"===typeof t.deletable?t.deletable:e.deletable})}));this.lists=n,this.isInCount=n.length<i},chooseFile:function(){var e=this,t=this.maxCount,a=this.multiple,i=this.lists,r=this.disabled;if(!r){var o;try{o=uni.$u.test.array(this.capture)?this.capture:this.capture.split(",")}catch(u){o=[]}(0,n.chooseFile)(Object.assign({accept:this.accept,multiple:this.multiple,capture:o,compressed:this.compressed,maxDuration:this.maxDuration,sizeType:this.sizeType,camera:this.camera},{maxCount:t-i.length})).then((function(t){e.onBeforeRead(a?t:t[0])})).catch((function(t){e.$emit("error",t)}))}},onBeforeRead:function(e){var t=this,a=this.beforeRead,i=this.useBeforeRead,n=!0;uni.$u.test.func(a)&&(n=a(e,this.getDetail())),i&&(n=new Promise((function(a,i){t.$emit("beforeRead",Object.assign(Object.assign({file:e},t.getDetail()),{callback:function(e){e?a():i()}}))}))),n&&(uni.$u.test.promise(n)?n.then((function(a){return t.onAfterRead(a||e)})):this.onAfterRead(e))},getDetail:function(e){return{name:this.name,index:null==e?this.fileList.length:e}},onAfterRead:function(e){var t=this.maxSize,a=this.afterRead,i=Array.isArray(e)?e.some((function(e){return e.size>t})):e.size>t;i?this.$emit("oversize",Object.assign({file:e},this.getDetail())):("function"===typeof a&&a(e,this.getDetail()),this.$emit("afterRead",Object.assign({file:e},this.getDetail())))},deleteItem:function(e){this.$emit("delete",Object.assign(Object.assign({},this.getDetail(e)),{file:this.fileList[e]}))},onPreviewImage:function(e){var t=this;e.isImage&&this.previewFullImage&&uni.previewImage({urls:this.lists.filter((function(e){return"image"===t.accept||uni.$u.test.image(e.url||e.thumb)})).map((function(e){return e.url||e.thumb})),current:e.url||e.thumb,fail:function(){uni.$u.toast("预览图片失败")}})},onPreviewVideo:function(e){if(this.data.previewFullImage){var t=e.currentTarget.dataset.index,a=this.data.lists;wx.previewMedia({sources:a.filter((function(e){return isVideoFile(e)})).map((function(e){return Object.assign(Object.assign({},e),{type:"video"})})),current:t,fail:function(){uni.$u.toast("预览视频失败")}})}},onClickPreview:function(e){var t=e.currentTarget.dataset.index,a=this.data.lists[t];this.$emit("clickPreview",Object.assign(Object.assign({},a),this.getDetail(t)))}}};t.default=u}}]);