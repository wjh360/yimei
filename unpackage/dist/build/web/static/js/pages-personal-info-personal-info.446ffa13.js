(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-personal-info-personal-info"],{"050f":function(t,e,a){var n=a("3d35");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("967d").default;i("84220da0",n,!0,{sourceMap:!1,shadowMode:!1})},"11b6":function(t,e,a){"use strict";var n=a("050f"),i=a.n(n);i.a},"1a29":function(t,e,a){var n=a("1f1e");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("967d").default;i("725967ba",n,!0,{sourceMap:!1,shadowMode:!1})},"1ac8":function(t,e,a){"use strict";var n=a("1a29"),i=a.n(n);i.a},"1f1e":function(t,e,a){var n=a("c86c");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uView UI 主题变量\r\n */\r\n/**\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.personal-info-container[data-v-a7938662]{height:100vh;overflow:hidden;background:linear-gradient(135deg,#f6f8fb,#f1f5f9);display:flex;flex-direction:column;position:relative;overflow:hidden}.personal-info-container[data-v-a7938662]::before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle at center,hsla(0,0%,100%,.8) 0,hsla(0,0%,100%,0) 60%);-webkit-animation:rotate-data-v-a7938662 30s linear infinite;animation:rotate-data-v-a7938662 30s linear infinite}.personal-info-container[data-v-a7938662]::after{content:"";position:absolute;top:0;left:0;right:0;height:200px;background:linear-gradient(135deg,#4158d0,#c850c0 46%,#ffcc70);-webkit-transform:skewY(-6deg);transform:skewY(-6deg);-webkit-transform-origin:0;transform-origin:0}.header[data-v-a7938662]{position:relative;z-index:1;padding:40px 0 50px;display:flex;justify-content:center;align-items:center;background:transparent}.avatar-section[data-v-a7938662]{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;-webkit-transform:translateY(0);transform:translateY(0);transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease}.user-name-preview[data-v-a7938662]{margin-top:12px;color:#fff;font-size:18px;font-weight:600;text-shadow:0 1px 3px rgba(0,0,0,.2);opacity:.9}.avatar-wrapper[data-v-a7938662]{position:relative;cursor:pointer;width:100px;height:100px;border-radius:50%;overflow:hidden;box-shadow:0 8px 20px rgba(0,0,0,.15);transition:box-shadow .3s ease,-webkit-transform .3s ease;transition:transform .3s ease,box-shadow .3s ease;transition:transform .3s ease,box-shadow .3s ease,-webkit-transform .3s ease}.avatar-wrapper[data-v-a7938662]:hover{-webkit-transform:translateY(-3px);transform:translateY(-3px);box-shadow:0 12px 25px rgba(0,0,0,.2)}.avatar-wrapper[data-v-a7938662]:active{-webkit-transform:translateY(0);transform:translateY(0);box-shadow:0 8px 15px rgba(0,0,0,.15)}.user-avatar[data-v-a7938662]{width:100%!important;height:100%!important;border:none!important;box-sizing:border-box}.avatar-upload-overlay[data-v-a7938662]{position:absolute;left:0;right:0;top:-5px;width:100%;height:100%;border-radius:100%;background:linear-gradient(0deg,rgba(0,0,0,.7),rgba(0,0,0,.2),transparent);display:flex;flex-direction:column;justify-content:flex-end;align-items:center;padding-bottom:10px;opacity:0;transition:opacity .3s ease}.avatar-upload-overlay .upload-text[data-v-a7938662]{color:#fff;font-size:12px;margin-top:4px;font-weight:500}.avatar-wrapper:hover .avatar-upload-overlay[data-v-a7938662]{opacity:1}.avatar-pulse-ring[data-v-a7938662]{position:absolute;top:-5px;left:-5px;right:-5px;bottom:-5px;border-radius:50%;border:2px solid hsla(0,0%,100%,.7);-webkit-animation:pulse-data-v-a7938662 1.5s infinite;animation:pulse-data-v-a7938662 1.5s infinite}@-webkit-keyframes pulse-data-v-a7938662{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}50%{-webkit-transform:scale(1.1);transform:scale(1.1);opacity:.5}100%{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@keyframes pulse-data-v-a7938662{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}50%{-webkit-transform:scale(1.1);transform:scale(1.1);opacity:.5}100%{-webkit-transform:scale(1);transform:scale(1);opacity:1}}.info-card[data-v-a7938662]{position:relative;z-index:1;background:hsla(0,0%,100%,.9);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;padding:30px;margin:-20px 20px 20px;box-shadow:0 10px 30px rgba(0,0,0,.08);border:1px solid hsla(0,0%,100%,.7);transition:box-shadow .3s ease,-webkit-transform .3s ease;transition:transform .3s ease,box-shadow .3s ease;transition:transform .3s ease,box-shadow .3s ease,-webkit-transform .3s ease}.info-card[data-v-a7938662]:hover{-webkit-transform:translateY(-2px);transform:translateY(-2px);box-shadow:0 15px 35px rgba(0,0,0,.12)}@-webkit-keyframes rotate-data-v-a7938662{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes rotate-data-v-a7938662{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}[data-v-a7938662] .u-form-item{margin-bottom:24px}[data-v-a7938662] .u-form-item .u-form-item__body__left__content{font-weight:600;color:#2c3e50;font-size:15px;margin-bottom:8px}[data-v-a7938662] .u-form-item .u-input{background-color:rgba(241,245,249,.6);border-radius:12px;padding:12px 16px;transition:all .3s ease}[data-v-a7938662] .u-form-item .u-input:hover{background-color:rgba(241,245,249,.9)}[data-v-a7938662] .u-form-item uni-input{color:#2c3e50;font-size:15px}[data-v-a7938662] .u-form-item uni-input::-webkit-input-placeholder{color:#94a3b8}[data-v-a7938662] .u-form-item uni-input::placeholder{color:#94a3b8}.submit-section[data-v-a7938662]{position:relative;z-index:1;padding:0 20px;margin-top:20px}.submit-btn[data-v-a7938662]{width:100%;height:54px;font-size:18px;font-weight:700;background:linear-gradient(135deg,#4158d0,#c850c0);box-shadow:0 6px 15px rgba(72,84,208,.25);border:none;transition:all .3s cubic-bezier(.4,0,.2,1)}.submit-btn[data-v-a7938662]:active{-webkit-transform:translateY(2px);transform:translateY(2px);box-shadow:0 4px 10px rgba(72,84,208,.2)}[data-v-a7938662] .u-avatar{border:4px solid hsla(0,0%,100%,.9)}@-webkit-keyframes fadeInUp-data-v-a7938662{from{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes fadeInUp-data-v-a7938662{from{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.info-card[data-v-a7938662],\r\n.submit-section[data-v-a7938662]{-webkit-animation:fadeInUp-data-v-a7938662 .5s ease-out;animation:fadeInUp-data-v-a7938662 .5s ease-out}',""]),t.exports=e},"3d35":function(t,e,a){var n=a("c86c");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uView UI 主题变量\r\n */\r\n/**\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */',""]),t.exports=e},"4c5c":function(t,e,a){"use strict";(function(t){a("6a54");var n=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("c223"),a("c9b5"),a("bf0f"),a("ab80"),a("0c26");var i=n(a("9b1b")),r=n(a("2634")),o=n(a("2fdc")),s=n(a("b767")),u={components:{FileUploader:s.default},data:function(){return{form:{avatar:"",name:"",newPassword:""},userInfo:null,submitting:!1,showUploader:!1,uploadingAvatar:!1}},onLoad:function(){this.userInfo=uni.getStorageSync("userInfo"),this.userInfo?(this.form.name=this.userInfo.name,this.form.avatar=this.userInfo.avatar||""):uni.redirectTo({url:"/pages/login/login"})},methods:{showUploadOptions:function(){var t=this;uni.showActionSheet({itemList:["拍照","从相册选择","删除头像"],success:function(e){0===e.tapIndex?t.chooseImage("camera"):1===e.tapIndex?t.chooseImage("album"):2===e.tapIndex&&t.deleteAvatar()}})},chooseImage:function(e){var a=this;uni.chooseImage({count:1,sourceType:[e],success:function(){var e=(0,o.default)((0,r.default)().mark((function e(n){var i,o,s;return(0,r.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=n.tempFilePaths[0],a.uploadingAvatar=!0,e.prev=2,o=i,e.prev=4,e.next=7,t.uploadFile({filePath:o,cloudPath:"avatars/".concat(a.userInfo._id,"_").concat(Date.now(),"_").concat(Math.random().toString(36).substring(2,10),".jpg")});case 7:s=e.sent,console.log("Upload result:",s),a.handleAvatarUpload(s.fileID),uni.showToast({title:"头像已更新",icon:"success"}),e.next=18;break;case 13:e.prev=13,e.t0=e["catch"](4),console.error("Avatar upload error:",e.t0),a.$handleCloudError(e.t0),uni.showToast({title:"头像上传失败",icon:"none"});case 18:e.next=24;break;case 20:e.prev=20,e.t1=e["catch"](2),console.error("Upload failed:",e.t1),uni.showToast({title:"上传失败，请重试",icon:"none"});case 24:return e.prev=24,a.uploadingAvatar=!1,e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[2,20,24,27],[4,13]])})));return function(t){return e.apply(this,arguments)}}()})},handleAvatarUpload:function(t){console.log("handleAvatarUpload",t),this.$set(this.form,"avatar",t)},deleteAvatar:function(){var t=this;uni.showModal({title:"删除头像",content:"确定要删除当前头像吗？",success:function(e){e.confirm&&(t.form.avatar="",uni.showToast({title:"已删除头像",icon:"success"}))}})},validateForm:function(){return this.form.name.trim()?!(this.form.newPassword&&this.form.newPassword.length<6)||(uni.showToast({title:"密码不能少于6个字符",icon:"none"}),!1):(uni.showToast({title:"请输入姓名",icon:"none"}),!1)},handleSubmit:function(){this.submitting?console.log("正在提交中，请稍后..."):this.validateForm()?(this.submitting=!0,uni.showLoading({title:"保存中..."}),this.updateUserInfo()):confirm.alert("表单验证失败")},updateUserInfo:function(e){var a=this,n={userId:this.userInfo._id,name:this.form.name,avatar:this.form.avatar};this.form.newPassword&&(n.newPassword=this.form.newPassword),t.callFunction({name:"updateUserInfo",data:n}).then((function(t){if(a.submitting=!1,uni.hideLoading(),0===t.result.code){var e=(0,i.default)((0,i.default)({},a.userInfo),{},{name:a.form.name,avatar:a.form.avatar,updateTime:(new Date).getTime()});uni.setStorageSync("userInfo",e),uni.showToast({title:"修改成功",icon:"success"}),setTimeout((function(){uni.navigateBack({delta:1,success:function(){var t=getCurrentPages(),e=t[t.length-2];e&&e.$vm&&"function"===typeof e.$vm.loadUserInfo&&e.$vm.loadUserInfo()}})}),1500)}else uni.showToast({title:t.result.message||"修改失败",icon:"none"})})).catch((function(t){a.submitting=!1,uni.hideLoading(),uni.showToast({title:"修改失败，请重试",icon:"none"})}))}}};e.default=u}).call(this,a("861b")["default"])},"6c9c":function(t,e,a){"use strict";a.r(e);var n=a("b13c"),i=a.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a},"6d70":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}));var n={uIcon:a("3c99").default,uLoadingIcon:a("7c31").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"u-upload",style:[t.$u.addStyle(t.customStyle)]},[a("v-uni-view",{staticClass:"u-upload__wrap"},[t.previewImage?t._l(t.lists,(function(e,n){return a("v-uni-view",{key:n,staticClass:"u-upload__wrap__preview"},[e.isImage||e.type&&"image"===e.type?a("v-uni-image",{staticClass:"u-upload__wrap__preview__image",style:[{width:t.$u.addUnit(t.width),height:t.$u.addUnit(t.height)}],attrs:{src:e.thumb||e.url,mode:t.imageMode},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.onPreviewImage(e)}}}):a("v-uni-view",{staticClass:"u-upload__wrap__preview__other"},[a("u-icon",{attrs:{color:"#80CBF9",size:"26",name:e.isVideo||e.type&&"video"===e.type?"movie":"folder"}}),a("v-uni-text",{staticClass:"u-upload__wrap__preview__other__text"},[t._v(t._s(e.isVideo||e.type&&"video"===e.type?"视频":"文件"))])],1),"uploading"===e.status||"failed"===e.status?a("v-uni-view",{staticClass:"u-upload__status"},[a("v-uni-view",{staticClass:"u-upload__status__icon"},["failed"===e.status?a("u-icon",{attrs:{name:"close-circle",color:"#ffffff",size:"25"}}):a("u-loading-icon",{attrs:{size:"22",mode:"circle",color:"#ffffff"}})],1),e.message?a("v-uni-text",{staticClass:"u-upload__status__message"},[t._v(t._s(e.message))]):t._e()],1):t._e(),"uploading"!==e.status&&(t.deletable||e.deletable)?a("v-uni-view",{staticClass:"u-upload__deletable",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.deleteItem(n)}}},[a("v-uni-view",{staticClass:"u-upload__deletable__icon"},[a("u-icon",{attrs:{name:"close",color:"#ffffff",size:"10"}})],1)],1):t._e(),"success"===e.status?a("v-uni-view",{staticClass:"u-upload__success"},[a("v-uni-view",{staticClass:"u-upload__success__icon"},[a("u-icon",{attrs:{name:"checkmark",color:"#ffffff",size:"12"}})],1)],1):t._e()],1)})):t._e(),t.isInCount?[t.$slots.default||t.$slots.$default?a("v-uni-view",{staticClass:"u-upload__default-slot",class:[0===t.lists.length?"u-upload__default-slot--empty-list":""],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseFile.apply(void 0,arguments)}}},[t._t("default")],2):a("v-uni-view",{staticClass:"u-upload__button",class:[t.disabled&&"u-upload__button--disabled"],style:[{width:t.$u.addUnit(t.width),height:t.$u.addUnit(t.height)}],attrs:{"hover-class":t.disabled?"":"u-upload__button--hover","hover-stay-time":"150"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseFile.apply(void 0,arguments)}}},[a("u-icon",{attrs:{name:t.uploadIcon,size:"26",color:t.uploadIconColor}}),t.uploadText?a("v-uni-text",{staticClass:"u-upload__button__text"},[t._v(t._s(t.uploadText))]):t._e()],1)]:t._e()],2)],1)},r=[]},"80dc":function(t,e,a){"use strict";a.r(e);var n=a("bcaf"),i=a("c5ac");for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);a("1ac8");var o=a("828b"),s=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"a7938662",null,!1,n["a"],void 0);e["default"]=s.exports},adbb:function(t,e,a){"use strict";a("6a54");var n=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.chooseFile=function(t){var e=t.accept,a=t.multiple,n=t.capture,s=t.compressed,u=t.maxDuration,l=t.sizeType,d=t.camera,c=t.maxCount;return new Promise((function(t,p){switch(e){case"image":uni.chooseImage({count:a?Math.min(c,9):1,sourceType:n,sizeType:l,success:function(e){return t(function(t){return t.tempFiles.map((function(t){return(0,i.default)((0,i.default)({},r(t,["path"])),{},{type:"image",url:t.path,thumb:t.path,size:t.size,name:t.name})}))}(e))},fail:p});break;case"video":uni.chooseVideo({sourceType:n,compressed:s,maxDuration:u,camera:d,success:function(e){return t(function(t){return[(0,i.default)((0,i.default)({},r(t,["tempFilePath","thumbTempFilePath","errMsg"])),{},{type:"video",url:t.tempFilePath,thumb:t.thumbTempFilePath,size:t.size,name:t.name})]}(e))},fail:p});break;case"file":uni.chooseFile({count:a?c:1,type:e,success:function(e){return t(o(e))},fail:p});break;default:uni.chooseFile({count:a?c:1,type:"all",success:function(e){return t(o(e))},fail:p})}}))};var i=n(a("9b1b"));function r(t,e){return["[object Object]","[object File]"].includes(Object.prototype.toString.call(t))?Object.keys(t).reduce((function(a,n){return e.includes(n)||(a[n]=t[n]),a}),{}):{}}function o(t){return t.tempFiles.map((function(t){return(0,i.default)((0,i.default)({},r(t,["path"])),{},{url:t.path,size:t.size,name:t.name,type:t.type})}))}a("4626"),a("bf0f"),a("473f"),a("dc8a"),a("5ac7"),a("fd3c")},b13c:function(t,e,a){"use strict";(function(t){a("6a54");var n=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("2634")),r=n(a("2fdc"));a("64aa"),a("dd2b"),a("c223"),a("aa9c"),a("7a76"),a("c9b5");var o={name:"FileUploader",props:{maxCount:{type:Number,default:1},name:{type:String,default:"file"},fileType:{type:String,default:"image"}},data:function(){return{fileList:[]}},methods:{afterRead:function(t){console.log("afterRead",t),this.upload(t.file)},deleteFile:function(t){this.fileList.splice(t.index,1),this.$emit("onDelete",t.index)},upload:function(e){var a=this;return(0,r.default)((0,i.default)().mark((function n(){var r,o,s;return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,console.log("Uploading file:",e),n.next=4,t.uploadFile({filePath:e.url,cloudPath:"".concat(a.fileType,"/").concat(Date.now(),"-").concat(e.name),fileType:a.fileType});case 4:return r=n.sent,n.next=7,t.callFunction({name:"uploadFile",data:{fileID:r.fileID}});case 7:if(o=n.sent,s=o.result,0!==s.code){n.next=15;break}e.url=s.data.publicURL,a.fileList.push(e),a.$emit("onUpload",s.data.publicURL),n.next=16;break;case 15:throw new Error(s.message);case 16:n.next=22;break;case 18:n.prev=18,n.t0=n["catch"](0),console.error("Upload failed:",n.t0),uni.showToast({title:"上传失败，请重试",icon:"none"});case 22:case"end":return n.stop()}}),n,null,[[0,18]])})))()}}};e.default=o}).call(this,a("861b")["default"])},b767:function(t,e,a){"use strict";a.r(e);var n=a("e833"),i=a("6c9c");for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);a("11b6");var o=a("828b"),s=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"23d7a416",null,!1,n["a"],void 0);e["default"]=s.exports},bcaf:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}));var n={uAvatar:a("cfaa").default,uIcon:a("3c99").default,uForm:a("5222").default,uFormItem:a("4e56").default,uInput:a("cc38").default,uButton:a("175e").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"personal-info-container"},[a("v-uni-view",{staticClass:"header"},[a("v-uni-view",{staticClass:"avatar-section"},[a("v-uni-view",{staticClass:"avatar-wrapper",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showUploadOptions.apply(void 0,arguments)}}},[a("u-avatar",{staticClass:"user-avatar",attrs:{src:t.form.avatar||"/static/images/default-avatar.png",size:"100"}}),a("v-uni-view",{staticClass:"avatar-upload-overlay"},[a("u-icon",{attrs:{name:"camera-fill",color:"#ffffff",size:"24"}}),a("v-uni-text",{staticClass:"upload-text"},[t._v("更换头像")])],1),t.uploadingAvatar?a("v-uni-view",{staticClass:"avatar-pulse-ring"}):t._e()],1)],1)],1),a("v-uni-view",{staticClass:"info-card"},[a("u-form",{ref:"uForm",attrs:{model:t.form,labelPosition:"top",labelWidth:"100%",borderBottom:!1}},[a("u-form-item",{attrs:{label:"姓名",prop:"name"}},[a("u-input",{attrs:{placeholder:"请输入姓名",border:!1,prefixIcon:"account"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("u-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[a("u-input",{attrs:{type:"password",placeholder:"不修改请留空",border:!1,prefixIcon:"lock"},model:{value:t.form.newPassword,callback:function(e){t.$set(t.form,"newPassword",e)},expression:"form.newPassword"}})],1)],1)],1),a("v-uni-view",{staticClass:"submit-section"},[a("u-button",{staticClass:"submit-btn",attrs:{type:"primary",loading:t.submitting,shape:"circle"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleSubmit.apply(void 0,arguments)}}},[t._v("保存修改")])],1)],1)},r=[]},c425:function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={watch:{accept:{immediate:!0,handler:function(t){"all"!==t&&"media"!==t||uni.$u.error("只有微信小程序才支持把accept配置为all、media之一")}}}};e.default=n},c5ac:function(t,e,a){"use strict";a.r(e);var n=a("4c5c"),i=a.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a},d79e:function(t,e,a){"use strict";var n=a("f61b"),i=a.n(n);i.a},e833:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}));var n={uUpload:a("e999").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"file-uploader"},[a("u-upload",{attrs:{fileList:t.fileList,maxCount:t.maxCount,name:t.name},on:{afterRead:function(e){arguments[0]=e=t.$handleEvent(e),t.afterRead.apply(void 0,arguments)},delete:function(e){arguments[0]=e=t.$handleEvent(e),t.deleteFile.apply(void 0,arguments)}}})],1)},r=[]},e837:function(t,e,a){var n=a("c86c");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uView UI 主题变量\r\n */\r\n/**\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-view[data-v-513d9588], uni-scroll-view[data-v-513d9588], uni-swiper-item[data-v-513d9588]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-upload[data-v-513d9588]{display:flex;flex-direction:column;flex:1}.u-upload__wrap[data-v-513d9588]{display:flex;flex-direction:row;flex-wrap:wrap;flex:1}.u-upload__wrap__preview[data-v-513d9588]{border-radius:2px;margin:0 8px 8px 0;position:relative;overflow:hidden;display:flex;flex-direction:row}.u-upload__wrap__preview__image[data-v-513d9588]{width:80px;height:80px}.u-upload__wrap__preview__other[data-v-513d9588]{width:80px;height:80px;background-color:#f2f2f2;flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center}.u-upload__wrap__preview__other__text[data-v-513d9588]{font-size:11px;color:#909399;margin-top:2px}.u-upload__deletable[data-v-513d9588]{position:absolute;top:0;right:0;background-color:#373737;height:14px;width:14px;display:flex;flex-direction:row;border-bottom-left-radius:100px;align-items:center;justify-content:center;z-index:3}.u-upload__deletable__icon[data-v-513d9588]{position:absolute;-webkit-transform:scale(.7);transform:scale(.7);top:0;right:0;top:1px;right:0}.u-upload__success[data-v-513d9588]{position:absolute;bottom:0;right:0;display:flex;flex-direction:row;border-style:solid;border-top-color:transparent;border-left-color:transparent;border-bottom-color:#19be6b;border-right-color:#19be6b;border-width:9px;align-items:center;justify-content:center}.u-upload__success__icon[data-v-513d9588]{position:absolute;-webkit-transform:scale(.7);transform:scale(.7);bottom:-10px;right:-10px}.u-upload__status[data-v-513d9588]{position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.5);display:flex;flex-direction:column;align-items:center;justify-content:center}.u-upload__status__icon[data-v-513d9588]{position:relative;z-index:1}.u-upload__status__message[data-v-513d9588]{font-size:12px;color:#fff;margin-top:5px}.u-upload__default-slot--empty-list[data-v-513d9588]{flex:1}.u-upload__button[data-v-513d9588]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:80px;height:80px;background-color:#f4f5f7;border-radius:2px;margin:0 8px 8px 0;box-sizing:border-box}.u-upload__button__text[data-v-513d9588]{font-size:11px;color:#909399;margin-top:2px}.u-upload__button--hover[data-v-513d9588]{background-color:#e6e7e9}.u-upload__button--disabled[data-v-513d9588]{opacity:.5}',""]),t.exports=e},e999:function(t,e,a){"use strict";a.r(e);var n=a("6d70"),i=a("f734");for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);a("d79e");var o=a("828b"),s=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"513d9588",null,!1,n["a"],void 0);e["default"]=s.exports},ee27:function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("64aa");var n={props:{accept:{type:String,default:uni.$u.props.upload.accept},capture:{type:[String,Array],default:uni.$u.props.upload.capture},compressed:{type:Boolean,default:uni.$u.props.upload.compressed},camera:{type:String,default:uni.$u.props.upload.camera},maxDuration:{type:Number,default:uni.$u.props.upload.maxDuration},uploadIcon:{type:String,default:uni.$u.props.upload.uploadIcon},uploadIconColor:{type:String,default:uni.$u.props.upload.uploadIconColor},useBeforeRead:{type:Boolean,default:uni.$u.props.upload.useBeforeRead},afterRead:{type:Function,default:null},beforeRead:{type:Function,default:null},previewFullImage:{type:Boolean,default:uni.$u.props.upload.previewFullImage},maxCount:{type:[String,Number],default:uni.$u.props.upload.maxCount},disabled:{type:Boolean,default:uni.$u.props.upload.disabled},imageMode:{type:String,default:uni.$u.props.upload.imageMode},name:{type:String,default:uni.$u.props.upload.name},sizeType:{type:Array,default:uni.$u.props.upload.sizeType},multiple:{type:Boolean,default:uni.$u.props.upload.multiple},deletable:{type:Boolean,default:uni.$u.props.upload.deletable},maxSize:{type:[String,Number],default:uni.$u.props.upload.maxSize},fileList:{type:Array,default:uni.$u.props.upload.fileList},uploadText:{type:String,default:uni.$u.props.upload.uploadText},width:{type:[String,Number],default:uni.$u.props.upload.width},height:{type:[String,Number],default:uni.$u.props.upload.height},previewImage:{type:Boolean,default:uni.$u.props.upload.previewImage}}};e.default=n},f61b:function(t,e,a){var n=a("e837");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("967d").default;i("8d140cfe",n,!0,{sourceMap:!1,shadowMode:!1})},f734:function(t,e,a){"use strict";a.r(e);var n=a("fe66"),i=a.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a},fe66:function(t,e,a){"use strict";a("6a54");var n=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("fd3c"),a("5c47"),a("0506"),a("bf0f"),a("8f71");var i=a("adbb"),r=n(a("c425")),o=n(a("ee27")),s={name:"u-upload",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default,o.default],data:function(){return{lists:[],isInCount:!0}},watch:{fileList:{immediate:!0,handler:function(){this.formatFileList()}}},methods:{formatFileList:function(){var t=this,e=this.fileList,a=void 0===e?[]:e,n=this.maxCount,i=a.map((function(e){return Object.assign(Object.assign({},e),{isImage:"image"===t.accept||uni.$u.test.image(e.url||e.thumb),isVideo:"video"===t.accept||uni.$u.test.video(e.url||e.thumb),deletable:"boolean"===typeof e.deletable?e.deletable:t.deletable})}));this.lists=i,this.isInCount=i.length<n},chooseFile:function(){var t=this,e=this.maxCount,a=this.multiple,n=this.lists,r=this.disabled;if(!r){var o;try{o=uni.$u.test.array(this.capture)?this.capture:this.capture.split(",")}catch(s){o=[]}(0,i.chooseFile)(Object.assign({accept:this.accept,multiple:this.multiple,capture:o,compressed:this.compressed,maxDuration:this.maxDuration,sizeType:this.sizeType,camera:this.camera},{maxCount:e-n.length})).then((function(e){t.onBeforeRead(a?e:e[0])})).catch((function(e){t.$emit("error",e)}))}},onBeforeRead:function(t){var e=this,a=this.beforeRead,n=this.useBeforeRead,i=!0;uni.$u.test.func(a)&&(i=a(t,this.getDetail())),n&&(i=new Promise((function(a,n){e.$emit("beforeRead",Object.assign(Object.assign({file:t},e.getDetail()),{callback:function(t){t?a():n()}}))}))),i&&(uni.$u.test.promise(i)?i.then((function(a){return e.onAfterRead(a||t)})):this.onAfterRead(t))},getDetail:function(t){return{name:this.name,index:null==t?this.fileList.length:t}},onAfterRead:function(t){var e=this.maxSize,a=this.afterRead,n=Array.isArray(t)?t.some((function(t){return t.size>e})):t.size>e;n?this.$emit("oversize",Object.assign({file:t},this.getDetail())):("function"===typeof a&&a(t,this.getDetail()),this.$emit("afterRead",Object.assign({file:t},this.getDetail())))},deleteItem:function(t){this.$emit("delete",Object.assign(Object.assign({},this.getDetail(t)),{file:this.fileList[t]}))},onPreviewImage:function(t){var e=this;t.isImage&&this.previewFullImage&&uni.previewImage({urls:this.lists.filter((function(t){return"image"===e.accept||uni.$u.test.image(t.url||t.thumb)})).map((function(t){return t.url||t.thumb})),current:t.url||t.thumb,fail:function(){uni.$u.toast("预览图片失败")}})},onPreviewVideo:function(t){if(this.data.previewFullImage){var e=t.currentTarget.dataset.index,a=this.data.lists;wx.previewMedia({sources:a.filter((function(t){return isVideoFile(t)})).map((function(t){return Object.assign(Object.assign({},t),{type:"video"})})),current:e,fail:function(){uni.$u.toast("预览视频失败")}})}},onClickPreview:function(t){var e=t.currentTarget.dataset.index,a=this.data.lists[e];this.$emit("clickPreview",Object.assign(Object.assign({},a),this.getDetail(e)))}}};e.default=s}}]);